/*
 * angular-ui-bootstrap
 * http://angular-ui.github.io/bootstrap/

 * Version: 2.5.0 - 2017-01-28
 * License: MIT
 */angular.module("ui.bootstrap",["ui.bootstrap.tooltip","ui.bootstrap.position","ui.bootstrap.stackedMap","ui.bootstrap.typeahead","ui.bootstrap.debounce"]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function t(t){var e=/[A-Z]/g,o="-";return t.replace(e,function(t,e){return(e?o:"")+t.toLowerCase()})}var e={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},o={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},i={};this.options=function(t){angular.extend(i,t)},this.setTriggers=function(t){angular.extend(o,t)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(n,a,p,r,l,u,s,c,d){function h(t){if(27===t.which){var e=f.top();e&&(e.value.close(),e=null)}}var f=d.createNew();return r.on("keyup",h),s.$on("$destroy",function(){r.off("keyup",h)}),function(n,s,d,h){function m(t){var e=(t||h.trigger||d).split(" "),i=e.map(function(t){return o[t]||t});return{show:e,hide:i}}h=angular.extend({},e,i,h);var g=t(n),b=u.startSymbol(),v=u.endSymbol(),y="<div "+g+'-popup uib-title="'+b+"title"+v+'" '+(h.useContentExp?'content-exp="contentExp()" ':'content="'+b+"content"+v+'" ')+'origin-scope="origScope" class="uib-position-measure '+s+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ></div>';return{compile:function(){var t=a(y);return function(e,o,i){function a(){B.isOpen?d():u()}function u(){(!q||e.$eval(i[s+"Enable"]))&&(y(),T(),B.popupDelay?N||(N=p(g,B.popupDelay,!1)):g())}function d(){b(),B.popupCloseDelay?U||(U=p(v,B.popupCloseDelay,!1)):v()}function g(){return b(),y(),B.content?($(),void B.$evalAsync(function(){B.isOpen=!0,C(!0),_()})):angular.noop}function b(){N&&(p.cancel(N),N=null),D&&(p.cancel(D),D=null)}function v(){B&&B.$evalAsync(function(){B&&(B.isOpen=!1,C(!1),B.animation?E||(E=p(w,150,!1)):w())})}function y(){U&&(p.cancel(U),U=null),E&&(p.cancel(E),E=null)}function $(){M||(I=B.$new(),M=t(I,function(t){H?r.find("body").append(t):o.after(t)}),f.add(B,{close:v}),x())}function w(){b(),y(),S(),M&&(M.remove(),M=null,A&&p.cancel(A)),f.remove(B),I&&(I.$destroy(),I=null)}function T(){B.title=i[s+"Title"],B.content=F?F(e):i[n],B.popupClass=i[s+"Class"],B.placement=angular.isDefined(i[s+"Placement"])?i[s+"Placement"]:h.placement;var t=l.parsePlacement(B.placement);R=t[1]?t[0]+"-"+t[1]:t[0];var o=parseInt(i[s+"PopupDelay"],10),a=parseInt(i[s+"PopupCloseDelay"],10);B.popupDelay=isNaN(o)?h.popupDelay:o,B.popupCloseDelay=isNaN(a)?h.popupCloseDelay:a}function C(t){L&&angular.isFunction(L.assign)&&L.assign(e,t)}function x(){j.length=0,F?(j.push(e.$watch(F,function(t){B.content=t,!t&&B.isOpen&&v()})),j.push(I.$watch(function(){V||(V=!0,I.$$postDigest(function(){V=!1,B&&B.isOpen&&_()}))}))):j.push(i.$observe(n,function(t){B.content=t,!t&&B.isOpen?v():_()})),j.push(i.$observe(s+"Title",function(t){B.title=t,B.isOpen&&_()})),j.push(i.$observe(s+"Placement",function(t){B.placement=t?t:h.placement,B.isOpen&&_()}))}function S(){j.length&&(angular.forEach(j,function(t){t()}),j.length=0)}function k(t){B&&B.isOpen&&M&&(o[0].contains(t.target)||M[0].contains(t.target)||d())}function O(t){27===t.which&&d()}function P(){var t=[],n=[],p=e.$eval(i[s+"Trigger"]);Y(),angular.isObject(p)?(Object.keys(p).forEach(function(e){t.push(e),n.push(p[e])}),W={show:t,hide:n}):W=m(p),"none"!==W.show&&W.show.forEach(function(t,e){"outsideClick"===t?(o.on("click",a),r.on("click",k)):t===W.hide[e]?o.on(t,a):t&&(o.on(t,u),o.on(W.hide[e],d)),o.on("keypress",O)})}var M,I,E,N,U,D,A,R,H=angular.isDefined(h.appendToBody)?h.appendToBody:!1,W=m(void 0),q=angular.isDefined(i[s+"Enable"]),B=e.$new(!0),V=!1,L=angular.isDefined(i[s+"IsOpen"])?c(i[s+"IsOpen"]):!1,F=h.useContentExp?c(i[n]):!1,j=[],_=function(){M&&M.html()&&(D||(D=p(function(){var t=l.positionElements(o,M,B.placement,H),e=angular.isDefined(M.offsetHeight)?M.offsetHeight:M.prop("offsetHeight"),i=H?l.offset(o):l.position(o);M.css({top:t.top+"px",left:t.left+"px"});var n=t.placement.split("-");M.hasClass(n[0])||(M.removeClass(R.split("-")[0]),M.addClass(n[0])),M.hasClass(h.placementClassPrefix+t.placement)||(M.removeClass(h.placementClassPrefix+R),M.addClass(h.placementClassPrefix+t.placement)),A=p(function(){var t=angular.isDefined(M.offsetHeight)?M.offsetHeight:M.prop("offsetHeight"),o=l.adjustTop(n,i,e,t);o&&M.css(o),A=null},0,!1),M.hasClass("uib-position-measure")?(l.positionArrow(M,t.placement),M.removeClass("uib-position-measure")):R!==t.placement&&l.positionArrow(M,t.placement),R=t.placement,D=null},0,!1)))};B.origScope=e,B.isOpen=!1,B.contentExp=function(){return B.content},i.$observe("disabled",function(t){t&&b(),t&&B.isOpen&&v()}),L&&e.$watch(L,function(t){B&&!t===B.isOpen&&a()});var Y=function(){W.show.forEach(function(t){"outsideClick"===t?o.off("click",a):(o.off(t,u),o.off(t,a)),o.off("keypress",O)}),W.hide.forEach(function(t){"outsideClick"===t?r.off("click",k):o.off(t,d)})};P();var X=e.$eval(i[s+"Animation"]);B.animation=angular.isDefined(X)?!!X:h.animation;var z,K=s+"AppendToBody";z=K in i&&void 0===i[K]?!0:e.$eval(i[K]),H=angular.isDefined(z)?z:H,e.$on("$destroy",function(){Y(),w(),B=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(t,e,o,i){return{link:function(n,a,p){var r,l,u,s=n.$eval(p.tooltipTemplateTranscludeScope),c=0,d=function(){l&&(l.remove(),l=null),r&&(r.$destroy(),r=null),u&&(t.leave(u).then(function(){l=null}),l=u,u=null)};n.$watch(e.parseAsResourceUrl(p.uibTooltipTemplateTransclude),function(e){var p=++c;e?(i(e,!0).then(function(i){if(p===c){var n=s.$new(),l=i,h=o(l)(n,function(e){d(),t.enter(e,a)});r=n,u=h,r.$emit("$includeContentLoaded",e)}},function(){p===c&&(d(),n.$emit("$includeContentError",e))}),n.$emit("$includeContentRequested",e)):d()}),n.$on("$destroy",d)}}}]).directive("uibTooltipClasses",["$uibPosition",function(t){return{restrict:"A",link:function(e,o,i){if(e.placement){var n=t.parsePlacement(e.placement);o.addClass(n[0])}e.popupClass&&o.addClass(e.popupClass),e.animation&&o.addClass(i.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(t){return t("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(t){return t("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(t){return t("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(t,e){var o,i,n={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},a={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},p=/(HTML|BODY)/;return{getRawNode:function(t){return t.nodeName?t:t[0]||t},parseStyle:function(t){return t=parseFloat(t),isFinite(t)?t:0},offsetParent:function(o){function i(t){return"static"===(e.getComputedStyle(t).position||"static")}o=this.getRawNode(o);for(var n=o.offsetParent||t[0].documentElement;n&&n!==t[0].documentElement&&i(n);)n=n.offsetParent;return n||t[0].documentElement},scrollbarWidth:function(n){if(n){if(angular.isUndefined(i)){var a=t.find("body");a.addClass("uib-position-body-scrollbar-measure"),i=e.innerWidth-a[0].clientWidth,i=isFinite(i)?i:0,a.removeClass("uib-position-body-scrollbar-measure")}return i}if(angular.isUndefined(o)){var p=angular.element('<div class="uib-position-scrollbar-measure"></div>');t.find("body").append(p),o=p[0].offsetWidth-p[0].clientWidth,o=isFinite(o)?o:0,p.remove()}return o},scrollbarPadding:function(t){t=this.getRawNode(t);var o=e.getComputedStyle(t),i=this.parseStyle(o.paddingRight),n=this.parseStyle(o.paddingBottom),a=this.scrollParent(t,!1,!0),r=this.scrollbarWidth(p.test(a.tagName));return{scrollbarWidth:r,widthOverflow:a.scrollWidth>a.clientWidth,right:i+r,originalRight:i,heightOverflow:a.scrollHeight>a.clientHeight,bottom:n+r,originalBottom:n}},isScrollable:function(t,o){t=this.getRawNode(t);var i=o?n.hidden:n.normal,a=e.getComputedStyle(t);return i.test(a.overflow+a.overflowY+a.overflowX)},scrollParent:function(o,i,a){o=this.getRawNode(o);var p=i?n.hidden:n.normal,r=t[0].documentElement,l=e.getComputedStyle(o);if(a&&p.test(l.overflow+l.overflowY+l.overflowX))return o;var u="absolute"===l.position,s=o.parentElement||r;if(s===r||"fixed"===l.position)return r;for(;s.parentElement&&s!==r;){var c=e.getComputedStyle(s);if(u&&"static"!==c.position&&(u=!1),!u&&p.test(c.overflow+c.overflowY+c.overflowX))break;s=s.parentElement}return s},position:function(o,i){o=this.getRawNode(o);var n=this.offset(o);if(i){var a=e.getComputedStyle(o);n.top-=this.parseStyle(a.marginTop),n.left-=this.parseStyle(a.marginLeft)}var p=this.offsetParent(o),r={top:0,left:0};return p!==t[0].documentElement&&(r=this.offset(p),r.top+=p.clientTop-p.scrollTop,r.left+=p.clientLeft-p.scrollLeft),{width:Math.round(angular.isNumber(n.width)?n.width:o.offsetWidth),height:Math.round(angular.isNumber(n.height)?n.height:o.offsetHeight),top:Math.round(n.top-r.top),left:Math.round(n.left-r.left)}},offset:function(o){o=this.getRawNode(o);var i=o.getBoundingClientRect();return{width:Math.round(angular.isNumber(i.width)?i.width:o.offsetWidth),height:Math.round(angular.isNumber(i.height)?i.height:o.offsetHeight),top:Math.round(i.top+(e.pageYOffset||t[0].documentElement.scrollTop)),left:Math.round(i.left+(e.pageXOffset||t[0].documentElement.scrollLeft))}},viewportOffset:function(o,i,n){o=this.getRawNode(o),n=n!==!1?!0:!1;var a=o.getBoundingClientRect(),p={top:0,left:0,bottom:0,right:0},r=i?t[0].documentElement:this.scrollParent(o),l=r.getBoundingClientRect();if(p.top=l.top+r.clientTop,p.left=l.left+r.clientLeft,r===t[0].documentElement&&(p.top+=e.pageYOffset,p.left+=e.pageXOffset),p.bottom=p.top+r.clientHeight,p.right=p.left+r.clientWidth,n){var u=e.getComputedStyle(r);p.top+=this.parseStyle(u.paddingTop),p.bottom-=this.parseStyle(u.paddingBottom),p.left+=this.parseStyle(u.paddingLeft),p.right-=this.parseStyle(u.paddingRight)}return{top:Math.round(a.top-p.top),bottom:Math.round(p.bottom-a.bottom),left:Math.round(a.left-p.left),right:Math.round(p.right-a.right)}},parsePlacement:function(t){var e=a.auto.test(t);return e&&(t=t.replace(a.auto,"")),t=t.split("-"),t[0]=t[0]||"top",a.primary.test(t[0])||(t[0]="top"),t[1]=t[1]||"center",a.secondary.test(t[1])||(t[1]="center"),t[2]=e?!0:!1,t},positionElements:function(t,o,i,n){t=this.getRawNode(t),o=this.getRawNode(o);var p=angular.isDefined(o.offsetWidth)?o.offsetWidth:o.prop("offsetWidth"),r=angular.isDefined(o.offsetHeight)?o.offsetHeight:o.prop("offsetHeight");i=this.parsePlacement(i);var l=n?this.offset(t):this.position(t),u={top:0,left:0,placement:""};if(i[2]){var s=this.viewportOffset(t,n),c=e.getComputedStyle(o),d={width:p+Math.round(Math.abs(this.parseStyle(c.marginLeft)+this.parseStyle(c.marginRight))),height:r+Math.round(Math.abs(this.parseStyle(c.marginTop)+this.parseStyle(c.marginBottom)))};if(i[0]="top"===i[0]&&d.height>s.top&&d.height<=s.bottom?"bottom":"bottom"===i[0]&&d.height>s.bottom&&d.height<=s.top?"top":"left"===i[0]&&d.width>s.left&&d.width<=s.right?"right":"right"===i[0]&&d.width>s.right&&d.width<=s.left?"left":i[0],i[1]="top"===i[1]&&d.height-l.height>s.bottom&&d.height-l.height<=s.top?"bottom":"bottom"===i[1]&&d.height-l.height>s.top&&d.height-l.height<=s.bottom?"top":"left"===i[1]&&d.width-l.width>s.right&&d.width-l.width<=s.left?"right":"right"===i[1]&&d.width-l.width>s.left&&d.width-l.width<=s.right?"left":i[1],"center"===i[1])if(a.vertical.test(i[0])){var h=l.width/2-p/2;s.left+h<0&&d.width-l.width<=s.right?i[1]="left":s.right+h<0&&d.width-l.width<=s.left&&(i[1]="right")}else{var f=l.height/2-d.height/2;s.top+f<0&&d.height-l.height<=s.bottom?i[1]="top":s.bottom+f<0&&d.height-l.height<=s.top&&(i[1]="bottom")}}switch(i[0]){case"top":u.top=l.top-r;break;case"bottom":u.top=l.top+l.height;break;case"left":u.left=l.left-p;break;case"right":u.left=l.left+l.width}switch(i[1]){case"top":u.top=l.top;break;case"bottom":u.top=l.top+l.height-r;break;case"left":u.left=l.left;break;case"right":u.left=l.left+l.width-p;break;case"center":a.vertical.test(i[0])?u.left=l.left+l.width/2-p/2:u.top=l.top+l.height/2-r/2}return u.top=Math.round(u.top),u.left=Math.round(u.left),u.placement="center"===i[1]?i[0]:i[0]+"-"+i[1],u},adjustTop:function(t,e,o,i){return-1!==t.indexOf("top")&&o!==i?{top:e.top-i+"px"}:void 0},positionArrow:function(t,o){t=this.getRawNode(t);var i=t.querySelector(".tooltip-inner, .popover-inner");if(i){var n=angular.element(i).hasClass("tooltip-inner"),p=t.querySelector(n?".tooltip-arrow":".arrow");if(p){var r={top:"",bottom:"",left:"",right:""};if(o=this.parsePlacement(o),"center"===o[1])return void angular.element(p).css(r);var l="border-"+o[0]+"-width",u=e.getComputedStyle(p)[l],s="border-";s+=a.vertical.test(o[0])?o[0]+"-"+o[1]:o[1]+"-"+o[0],s+="-radius";var c=e.getComputedStyle(n?i:t)[s];switch(o[0]){case"top":r.bottom=n?"0":"-"+u;break;case"bottom":r.top=n?"0":"-"+u;break;case"left":r.right=n?"0":"-"+u;break;case"right":r.left=n?"0":"-"+u}r[o[1]]=c,angular.element(p).css(r)}}}}}]),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var t=[];return{add:function(e,o){t.push({key:e,value:o})},get:function(e){for(var o=0;o<t.length;o++)if(e===t[o].key)return t[o]},keys:function(){for(var e=[],o=0;o<t.length;o++)e.push(t[o].key);return e},top:function(){return t[t.length-1]},remove:function(e){for(var o=-1,i=0;i<t.length;i++)if(e===t[i].key){o=i;break}return t.splice(o,1)[0]},removeTop:function(){return t.pop()},length:function(){return t.length}}}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(t){var e=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(o){var i=o.match(e);if(!i)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+o+'".');return{itemName:i[3],source:t(i[4]),viewMapper:t(i[2]||i[1]),modelMapper:t(i[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(t,e,o,i,n,a,p,r,l,u,s,c,d){function h(){V.moveInProgress||(V.moveInProgress=!0,V.$digest()),J()}function f(){V.position=E?c.offset(e):c.position(e),V.position.top+=e.prop("offsetHeight")}function m(t){var e;return angular.version.minor<6?(e=t.$options||{},e.getOption=function(t){return e[t]}):e=t.$options,e}var g,b,v=[9,13,27,38,40],y=200,$=t.$eval(o.typeaheadMinLength);$||0===$||($=1),t.$watch(o.typeaheadMinLength,function(t){$=t||0===t?t:1});var w=t.$eval(o.typeaheadWaitMs)||0,T=t.$eval(o.typeaheadEditable)!==!1;t.$watch(o.typeaheadEditable,function(t){T=t!==!1});var C,x,S=n(o.typeaheadLoading).assign||angular.noop,k=o.typeaheadShouldSelect?n(o.typeaheadShouldSelect):function(t,e){var o=e.$event;return 13===o.which||9===o.which},O=n(o.typeaheadOnSelect),P=angular.isDefined(o.typeaheadSelectOnBlur)?t.$eval(o.typeaheadSelectOnBlur):!1,M=n(o.typeaheadNoResults).assign||angular.noop,I=o.typeaheadInputFormatter?n(o.typeaheadInputFormatter):void 0,E=o.typeaheadAppendToBody?t.$eval(o.typeaheadAppendToBody):!1,N=o.typeaheadAppendTo?t.$eval(o.typeaheadAppendTo):null,U=t.$eval(o.typeaheadFocusFirst)!==!1,D=o.typeaheadSelectOnExact?t.$eval(o.typeaheadSelectOnExact):!1,A=n(o.typeaheadIsOpen).assign||angular.noop,R=t.$eval(o.typeaheadShowHint)||!1,H=n(o.ngModel),W=n(o.ngModel+"($$$p)"),q=function(e,o){return angular.isFunction(H(t))&&b.getOption("getterSetter")?W(e,{$$$p:o}):H.assign(e,o)},B=d.parse(o.uibTypeahead),V=t.$new(),L=t.$on("$destroy",function(){V.$destroy()});V.$on("$destroy",L);var F="typeahead-"+V.$id+"-"+Math.floor(1e4*Math.random());e.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":F});var j,_;R&&(j=angular.element("<div></div>"),j.css("position","relative"),e.after(j),_=e.clone(),_.attr("placeholder",""),_.attr("tabindex","-1"),_.val(""),_.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),e.css({position:"relative","vertical-align":"top","background-color":"transparent"}),_.attr("id")&&_.removeAttr("id"),j.append(_),_.after(e));var Y=angular.element("<div uib-typeahead-popup></div>");Y.attr({id:F,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(o.typeaheadTemplateUrl)&&Y.attr("template-url",o.typeaheadTemplateUrl),angular.isDefined(o.typeaheadPopupTemplateUrl)&&Y.attr("popup-template-url",o.typeaheadPopupTemplateUrl);var X=function(){R&&_.val("")},z=function(){V.matches=[],V.activeIdx=-1,e.attr("aria-expanded",!1),X()},K=function(t){return F+"-option-"+t};V.$watch("activeIdx",function(t){0>t?e.removeAttr("aria-activedescendant"):e.attr("aria-activedescendant",K(t))});var Z=function(t,e){return V.matches.length>e&&t?t.toUpperCase()===V.matches[e].label.toUpperCase():!1},G=function(o,i){var n={$viewValue:o};S(t,!0),M(t,!1),a.when(B.source(t,n)).then(function(a){var p=o===g.$viewValue;if(p&&C)if(a&&a.length>0){V.activeIdx=U?0:-1,M(t,!1),V.matches.length=0;for(var r=0;r<a.length;r++)n[B.itemName]=a[r],V.matches.push({id:K(r),label:B.viewMapper(V,n),model:a[r]});if(V.query=o,f(),e.attr("aria-expanded",!0),D&&1===V.matches.length&&Z(o,0)&&(angular.isNumber(V.debounceUpdate)||angular.isObject(V.debounceUpdate)?s(function(){V.select(0,i)},angular.isNumber(V.debounceUpdate)?V.debounceUpdate:V.debounceUpdate["default"]):V.select(0,i)),R){var l=V.matches[0].label;_.val(angular.isString(o)&&o.length>0&&l.slice(0,o.length).toUpperCase()===o.toUpperCase()?o+l.slice(o.length):"")}}else z(),M(t,!0);p&&S(t,!1)},function(){z(),S(t,!1),M(t,!0)})};E&&(angular.element(l).on("resize",h),r.find("body").on("scroll",h));var J=s(function(){V.matches.length&&f(),V.moveInProgress=!1},y);V.moveInProgress=!1,V.query=void 0;var Q,te=function(t){Q=p(function(){G(t)},w)},ee=function(){Q&&p.cancel(Q)};z(),V.assignIsOpen=function(e){A(t,e)},V.select=function(i,n){var a,r,l={};x=!0,l[B.itemName]=r=V.matches[i].model,a=B.modelMapper(t,l),q(t,a),g.$setValidity("editable",!0),g.$setValidity("parse",!0),O(t,{$item:r,$model:a,$label:B.viewMapper(t,l),$event:n}),z(),V.$eval(o.typeaheadFocusOnSelect)!==!1&&p(function(){e[0].focus()},0,!1)},e.on("keydown",function(e){if(0!==V.matches.length&&-1!==v.indexOf(e.which)){var o=k(t,{$event:e});if(-1===V.activeIdx&&o||9===e.which&&e.shiftKey)return z(),void V.$digest();e.preventDefault();var i;switch(e.which){case 27:e.stopPropagation(),z(),t.$digest();break;case 38:V.activeIdx=(V.activeIdx>0?V.activeIdx:V.matches.length)-1,V.$digest(),i=Y[0].querySelectorAll(".uib-typeahead-match")[V.activeIdx],i.parentNode.scrollTop=i.offsetTop;break;case 40:V.activeIdx=(V.activeIdx+1)%V.matches.length,V.$digest(),i=Y[0].querySelectorAll(".uib-typeahead-match")[V.activeIdx],i.parentNode.scrollTop=i.offsetTop;break;default:o&&V.$apply(function(){angular.isNumber(V.debounceUpdate)||angular.isObject(V.debounceUpdate)?s(function(){V.select(V.activeIdx,e)},angular.isNumber(V.debounceUpdate)?V.debounceUpdate:V.debounceUpdate["default"]):V.select(V.activeIdx,e)})}}}),e.on("focus",function(t){C=!0,0!==$||g.$viewValue||p(function(){G(g.$viewValue,t)},0)}),e.on("blur",function(t){P&&V.matches.length&&-1!==V.activeIdx&&!x&&(x=!0,V.$apply(function(){angular.isObject(V.debounceUpdate)&&angular.isNumber(V.debounceUpdate.blur)?s(function(){V.select(V.activeIdx,t)},V.debounceUpdate.blur):V.select(V.activeIdx,t)})),!T&&g.$error.editable&&(g.$setViewValue(),V.$apply(function(){g.$setValidity("editable",!0),g.$setValidity("parse",!0)}),e.val("")),C=!1,x=!1});var oe=function(o){e[0]!==o.target&&3!==o.which&&0!==V.matches.length&&(z(),u.$$phase||t.$digest())};r.on("click",oe),t.$on("$destroy",function(){r.off("click",oe),(E||N)&&ie.remove(),E&&(angular.element(l).off("resize",h),r.find("body").off("scroll",h)),Y.remove(),R&&j.remove()});var ie=i(Y)(V);E?r.find("body").append(ie):N?angular.element(N).eq(0).append(ie):e.after(ie),this.init=function(e){g=e,b=m(g),V.debounceUpdate=n(b.getOption("debounce"))(t),g.$parsers.unshift(function(e){return C=!0,0===$||e&&e.length>=$?w>0?(ee(),te(e)):G(e):(S(t,!1),ee(),z()),T?e:e?void g.$setValidity("editable",!1):(g.$setValidity("editable",!0),null)}),g.$formatters.push(function(e){var o,i,n={};return T||g.$setValidity("editable",!0),I?(n.$model=e,I(t,n)):(n[B.itemName]=e,o=B.viewMapper(t,n),n[B.itemName]=void 0,i=B.viewMapper(t,n),o!==i?o:e)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","uibTypeahead"],link:function(t,e,o,i){i[1].init(i[0])}}}).directive("uibTypeaheadPopup",["$$debounce",function(t){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(t,e){return e.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(e,o,i){e.templateUrl=i.templateUrl,e.isOpen=function(){var t=e.matches.length>0;return e.assignIsOpen({isOpen:t}),t},e.isActive=function(t){return e.active===t},e.selectActive=function(t){e.active=t},e.selectMatch=function(o,i){var n=e.debounce();angular.isNumber(n)||angular.isObject(n)?t(function(){e.select({activeIdx:o,evt:i})},angular.isNumber(n)?n:n["default"]):e.select({activeIdx:o,evt:i})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(t,e,o){return{scope:{index:"=",match:"=",query:"="},link:function(i,n,a){var p=o(a.templateUrl)(i.$parent)||"uib/template/typeahead/typeahead-match.html";t(p).then(function(t){var o=angular.element(t.trim());n.replaceWith(o),e(o)(i)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(t,e,o){function i(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function n(t){return/<.*>/g.test(t)}var a;return a=e.has("$sanitize"),function(e,p){return!a&&n(e)&&o.warn("Unsafe use of typeahead please use ngSanitize"),e=p?(""+e).replace(new RegExp(i(p),"gi"),"<strong>$&</strong>"):e,a||(e=t.trustAsHtml(e)),e}}]),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(t){return function(e,o){var i;return function(){var n=this,a=Array.prototype.slice.call(arguments);i&&t.cancel(i),i=t(function(){e.apply(n,a)},o)}}}]),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0});